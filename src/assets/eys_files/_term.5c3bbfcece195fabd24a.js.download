(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{2892:function(e,t,r){"use strict";r.r(t);r(13),r(12),r(9),r(10);var o=r(0),n=(r(6),r(2)),c=r(44);function l(object,e){var t=Object.keys(object);return Object.getOwnPropertySymbols&&t.push.apply(t,Object.getOwnPropertySymbols(object)),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable})),t}function d(e){for(var i=1;i<arguments.length;i++)if(i%2){var source=null!=arguments[i]?arguments[i]:{};l(source,!0).forEach(function(t){Object(o.a)(e,t,source[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[i])):l(source).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(arguments[i],t))});return e}var h={name:"IconsSearchPage",layout:"app",scrollToTop:!0,asyncData:function(e){e.app,e.params,e.store,e.redirect,e.res;return{icons:[],error:void 0}},data:function(){return{term:void 0,icons:[],page:1,allIconsLoaded:!1,activeGrid:void 0,fetchComplete:!1,parsedParams:void 0,fetchErrorsCount:0,popularPlatforms:{ios7:!0,ios11:!0,androidL:!0,color:!0,win10:!0,Dusk_Wired:!0,p1em:!0}}},computed:d({},Object(n.e)({seo:function(e){return e.seo.data},platforms:function(e){return e.appInfo.platforms},lang:function(e){return e.i18n.locale},iconsGridStyle:function(e){return e.ui.iconsGridStyle},extendedIconsGridStyle:function(e){return e.ui.extendedIconsGridStyle}}),{title:function(){var e=this.$utils.uppercaseFirstLetter(this.$utils.prettifyValue(this.term));return this.$t("WEB_APP.SEO.SEARCH.TITLE",{term:e},"".concat(e," Icon"))},extendedGrid:function(){return"all"===this.$route.params.platform},gridStyle:function(){return this.extendedGrid?this.extendedIconsGridStyle:this.iconsGridStyle},search:function(e){return e.mainSearch}}),mounted:function(){this.$analytics.trackSearch({term:this.$route.params.term}),this.icons.length||(this.fetchComplete&&this.$analytics.track({event:"Nothing found",category:this.$route.params.platform}),this.fetchData(this.$route.params)),this.$route.params.term!==this.term&&(this.term=this.$route.params.term,this.icons=[],this.fetchData(this.$route.params)),this.parsedParams=Object(c.a)(this.$route.params.term),this.setSearchMain(this.term)},methods:d({},Object(n.b)(["setSearchMain"]),{fetchData:function(e){var t=this;return new Promise(function(r){(function(e){var t=e.app,r=e.params,o=e.store,n=e.res;return new Promise(function(e){var l=t.$utils.normalizeValue(r.term),h=Object(c.a)(l),f=t.$utils.uppercaseFirstLetter(t.$utils.prettifyValue(h.$rootPath));o.dispatch("search",{term:h.$rootPath,platform:"all",amount:150}).then(function(r){!n||r.icons&&r.icons.length||(n.statusCode=404);var c=o.getters.hostUrl||"https://icons8.com",m=t.$t("WEB_APP.SEO.SEARCH.TITLE",{term:f},"".concat(f," Icon"));o.dispatch("updateSEO",{titlePage:m,descriptionPage:" ",title:t.$t("WEB_APP.SEO.SEARCH.TITLE_ALL",{term:f}),description:t.$t("WEB_APP.SEO.SEARCH.DESCRIPTION",{term:f}),canonical:"".concat(c,"/icon/set/").concat(l,"/all")}),e(d({term:l},r,{fetchComplete:!0,parsedParams:h}))}).catch(function(t){console.error("page error",t&&t.message?t.message:t),e({term:l,error:{message:t.message}})})})})({app:t,store:t.$store,params:e}).then(function(e){t.icons=e.icons,t.fetchComplete=e.fetchComplete,r()}).catch(function(e){console.error("error",e),t.checkError(e),r()})})},checkError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.error;e&&(console.log("this.error",this.error),this.error=void 0)},videoPopup:function(){this.$modal.show("video-popup"+this._uid)},fetchNext:function(e){var t=this,r=this.$route.params.term;this.$store.dispatch("search",{term:r,platform:"all",amount:150,page:this.page+1}).then(function(r){t.page++,r.icons.length?(r.icons.forEach(function(e){t.icons.push(e)}),e.loaded()):(e.complete(),t.allIconsLoaded=!0,console.log("--- Loaded Icons ---"))}).catch(function(r){e.loaded(),t.fetchErrorsCount++,3===t.fetchErrorsCount&&(e.complete(),t.allIconsLoaded=!0),console.error("page error",r&&r.message?r.message:r)})}})},f=(r(738),r(1)),component=Object(f.a)(h,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"icons-search-page"},[e.fetchComplete&&!e.icons.length?r("div",{staticClass:"app-page-section custom-padding"},[r("nothing-found")],1):e._e(),r("div",{staticClass:"app-page-section custom-padding"},[r("icon-grid",{attrs:{icons:e.icons,"grid-style":e.gridStyle,action:"select"}}),e.allIconsLoaded&&e.icons.length?r("request-icon"):e._e(),r("no-ssr",[r("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!e.allIconsLoaded,expression:"!allIconsLoaded"}],attrs:{distance:450},on:{infinite:e.fetchNext}},[r("div",{staticClass:"is-loading",attrs:{slot:"spinner"},slot:"spinner"})])],1)],1)])},[],!1,null,"fbba881e",null);t.default=component.exports},679:function(e,t,r){var content=r(739);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(8).default)("de65a32c",content,!0,{sourceMap:!1})},738:function(e,t,r){"use strict";var o=r(679);r.n(o).a},739:function(e,t,r){(e.exports=r(7)(!1)).push([e.i,'.icons-search-page .app-page-section.is-video-preview[data-v-fbba881e]{min-height:208px}.icons-search-page .video-preview[data-v-fbba881e]{float:left;width:312px;height:160px;padding-top:32px;margin:24px 32px 24px 0;border-radius:6px;background:#fbefd9;text-align:center;cursor:pointer}@media (max-width:600px){.icons-search-page .video-preview[data-v-fbba881e]{float:none}}.icons-search-page .play[data-v-fbba881e]{display:inline-block;width:62px;height:62px}.icons-search-page .video-title[data-v-fbba881e]{font-size:14px;font-weight:600;color:#4c4c4c}.icons-search-page .video-duration[data-v-fbba881e]{font-size:14px;color:#999}.icons-search-page .platforms[data-v-fbba881e]{display:flex;flex-flow:row wrap;justify-content:flex-start;margin:0 -16px}.icons-search-page .platform[data-v-fbba881e]{background:#f2f2f2;width:312px;padding:16px;margin:16px;border-radius:6px;display:flex;flex-flow:column;justify-content:space-between}.icons-search-page .platform-title[data-v-fbba881e]{font-size:16px;line-height:16px;margin:8px 12px;font-weight:600;color:#4c4c4c}.icons-search-page .icons[data-v-fbba881e]{display:flex;flex-flow:row wrap;justify-content:flex-start}.icons-search-page .icon[data-v-fbba881e]{display:flex;width:50px;height:50px;margin:4px 10px}.is-loading[data-v-fbba881e]{position:relative;height:100px}.is-loading[data-v-fbba881e]:after{content:"";position:absolute;top:50%;left:50%;margin-top:-1.5rem;margin-left:-1.5rem;width:3rem;height:3rem;border-radius:50%;border:2px solid hsla(0,0%,66.7%,.2);border-top-color:hsla(0,0%,66.7%,.8);-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}',""])}}]);